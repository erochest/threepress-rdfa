{% extends "base.html" %}

{% block title %}Admin search{% endblock %}

{% block head %}
<link rel="stylesheet" href="/static/home.css"></link>
{% endblock head %}

{% block main %}

<div id="content">

  <p>Search for any book in the system:</p>
  
  <form action="{% url library.admin.search %}" method="get">
    <div>
      <label for="title">Title</label> <input type="text" name="title" />
      <label for="author">Author</label> <input type="text" name="author" />
      <input type="submit" value="Search"/>
    </div>
  </form>
  
</div>

{% if documents.count %}
<h2>Search results</h2>

<table id="library">
  {% for d in documents %}
  <tr>
    <td>
      <span class="title"><a href="{% url library.views.view d.safe_title,d.safe_author %}">{{ d.title}}</a></span>
    </td>
    <td>
      <span class="attribution">by <span class="author">{{ d.author }}</span></span>
    </td>
    <td>
      added on <span class="added">{{ d.created_time|date:"l, F Y" }}</span>
    </td>
    <td>
      owned by <span class="owner">{{ d.owner.nickname }}</span>
    </td>
    <td>
      <span class="delete"><a href="{% url library.views.delete d.safe_title,d.safe_author %}" onclick="return confirm('Sure?')">delete</a></span>
    </td>
  </tr>
  {% endfor %}
</table>

{% endif %}

{% endblock main %}