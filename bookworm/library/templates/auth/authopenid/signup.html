{% extends "base.html" %}

{% block title %}Sign up{% endblock %}

{% block head %}
<link rel="stylesheet" href="/static/home.css"></link>
<link rel="stylesheet" type="text/css" href="/static/auth.css" ></link>
<style type="text/css">
#bw-leftnav ol {
 padding-left: 0;
}
#bw-leftnav ol li {
  list-style-type: none;
  padding-left: 0;
  margin-bottom: 1em;
}
</style>
{% endblock head %}

{% block leftnav %}
  <h2>Two ways to join:</h2>
  <ol>
    <li><h3>Use OpenID</h3> 
    Just enter your OpenID URL and we'll link a Bookworm account to it.
    </li>
    <li><h3>Don't have an OpenID?</h3>  Sign up with a username and password just
      for Bookworm.</li>
  </ol>
{% endblock leftnav %}

{% block main %}

<div id="bw-content">
  <h1>Register with Bookworm</h1>
    {% if form.errors %}
    <p class="bw-message">Please correct errors below:
    {% if form.username.errors %} 
    <span class="bw-error">{{ form.username.errors|join:", " }}</span>
    {% endif %}
    {% if form.email.errors %} 
    <span class="bw-error">{{ form.email.errors|join:", " }}</span>
    {% endif %}
    {% if form.password2.errors %} 
    <span class="bw-error">{{ form.password2.errors|join:", " }}</span>
    {% endif %}
    </p>
    {% endif %}
    <div id="bw-openid-signup" style="float:left">

      <form name="fopenid" action="{{ action_signin }}" method="post">
	<fieldset>
          <legend>      <img src="/static/openid-logo.png" alt="Use my OpenID" /></legend>
          {{ form2.openid_url }}
          <input name="bsignin" type="submit" value="Sign up with OpenID" />
	</fieldset>
      </form>
    </div>

    <div id="bw-local-signup" style="float:right">

    <form action="{{ action }}" method="post" accept-charset="utf-8">	
      <fieldset>
        <legend>Sign up locally</legend>

        <label for="id_username"><br/>Username:</label>
	{{ form.username }}

        <label for="id_email">Email:</label>{{ form.email }}
        <label for="id_password1">Password:</label>{{ form.password1 }}
        <label for="id_password2">Confirm password:</label>
	{{ form.password2 }}

	<input type="submit" value="Sign up" name="register_local"/>
      </fieldset>
    </form>
    </div>
</div>
{% endblock %}
